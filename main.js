!function(){"use strict";const e={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__submit-button",inactiveButtonClass:"modal__submit-button_inactive",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible"},t=(e,t,o)=>{(e=>e.some(e=>!e.validity.valid))(e)?r(t,o):a(t,o)},r=(e,t)=>{e.classList.add(t.inactiveButtonClass),e.disabled=!0},a=(e,t)=>{e.classList.remove(t.inactiveButtonClass),e.disabled=!1},o=(e,t,r)=>{const a=`#${t.id}-error`,o=e.querySelector(a);t.classList.remove(r.inputErrorClass),o.classList.remove(r.errorClass),o.textContent=""};function n(e,t,r="Save",a="Saving..."){e.textContent=t?a:r}const s=document.querySelector(".profile__name"),c=document.querySelector(".profile__description"),i=document.querySelector(".profile__avatar"),l=document.querySelector(".profile__edit-button"),d=document.querySelector(".profile__avatar-button"),u=document.querySelector(".profile__add-button"),m=document.querySelector(".cards__list"),_=document.querySelector("#card-template"),h=document.querySelectorAll(".modal"),v=document.querySelector("#profile-edit-modal"),f=v.querySelector(".modal__form"),p=f.querySelector("#profile-name-input"),y=f.querySelector("#profile-description-input"),S=document.querySelector("#avatar-edit-modal"),b=S.querySelector(".modal__form"),q=S.querySelector("#avatar-link-input"),L=document.querySelector("#card-add-modal"),E=L.querySelector(".modal__form"),C=E.querySelector("#card-link-input"),g=E.querySelector("#card-caption-input"),k=document.querySelector("#image-zoom-modal"),U=k.querySelector(".modal__image"),$=k.querySelector(".modal__caption"),x=document.querySelector("#card-delete-modal"),A=x.querySelector(".modal__form"),D=new class{constructor({baseUrl:e,headers:t}){this._baseUrl=e,this._headers=t}getAppInfo(){return Promise.all([this.getInitialCards(),this.getUserInfo()])}getInitialCards(){return fetch(`${this._baseUrl}/cards`,{headers:this._headers}).then(e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`))}addCard({link:e,name:t}){return fetch(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({link:e,name:t})}).then(this._handleServerResponse)}changeCardLikeStatus(e,t){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:t?"DELETE":"PUT",headers:this._headers}).then(this._handleServerResponse)}deleteCard(e){return fetch(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers}).then(this._handleServerResponse)}getUserInfo(){return fetch(`${this._baseUrl}/users/me`,{headers:this._headers}).then(e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`))}updateUserInfo({name:e,about:t}){return fetch(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e,about:t})}).then(this._handleServerResponse)}updateAvatar({avatar:e}){return fetch(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then(this._handleServerResponse)}_handleServerResponse(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"0f8c8143-f357-4bf6-aa1f-0dc5c492fe92","Content-Type":"application/json"}});function I(e){const t=_.content.querySelector(".card").cloneNode(!0),r=t.querySelector(".card__title"),a=t.querySelector(".card__image"),o=t.querySelector(".card__like-button"),n=t.querySelector(".card__delete-button");return r.textContent=e.name,a.src=e.link,a.alt=e.name,e.isLiked&&o.classList.add("card__like-button_active"),n.addEventListener("click",r=>function(e,t){R=e,B=t,P(x)}(t,e._id)),o.addEventListener("click",t=>function(e,t){const r=e.target.classList.contains("card__like-button_active");D.changeCardLikeStatus(t,r).then(()=>{e.target.classList.toggle("card__like-button_active")}).catch(console.error)}(t,e._id)),a.addEventListener("click",()=>function(e){U.src=e.link,U.alt=e.name,$.textContent=e.name,P(k)}(e)),t}D.getAppInfo().then(([e,t])=>{var r;r=t,s.textContent=r.name,c.textContent=r.about,i.src=r.avatar,e.forEach(e=>{const t=I(e);m.append(t)})}).catch(e=>{console.error(`Data loading error: ${e}`)});const P=e=>{e.classList.add("modal_is-opened"),document.addEventListener("keyup",T)},j=e=>{e.classList.remove("modal_is-opened"),document.removeEventListener("keyup",T)};function T(e){if("Escape"===e.key){const e=document.querySelector(".modal_is-opened");j(e)}}let R,B;var N;h.forEach(e=>{e.addEventListener("mousedown",t=>{(t.target.classList.contains("modal")||t.target.classList.contains("modal__close-button")||t.target.classList.contains("modal__submit-button_type_cancel"))&&j(e)})}),l.addEventListener("click",function(){var t,r;t=v,r=e,[p,y].forEach(e=>{o(t,e,r)}),p.value=s.textContent,y.value=c.textContent,P(v)}),f.addEventListener("submit",function(e){e.preventDefault();const t=e.submitter;n(t,!0),D.updateUserInfo({name:p.value,about:y.value}).then(e=>{s.textContent=e.name,c.textContent=e.about,j(v)}).catch(console.error).finally(()=>n(t,!1))}),d.addEventListener("click",()=>P(S)),b.addEventListener("submit",function(e){e.preventDefault();const t=e.submitter;n(t,!0),D.updateAvatar({avatar:q.value}).then(e=>{i.src=e.avatar,j(S)}).catch(console.error).finally(()=>n(t,!1))}),u.addEventListener("click",()=>P(L)),E.addEventListener("submit",function(e){e.preventDefault();const t=e.submitter;n(t,!0),D.addCard({link:C.value,name:g.value}).then(t=>{const r=I(t);m.prepend(r),j(L),e.target.reset()}).catch(console.error).finally(()=>n(t,!1))}),A.addEventListener("submit",function(e){e.preventDefault();const t=e.submitter;n(t,!0,"Delete","Deleting..."),D.deleteCard(B).then(()=>{R.remove(),j(x)}).catch(console.error).finally(()=>n(t,!1,"Delete","Deleting..."))}),N=e,Array.from(document.querySelectorAll(N.formSelector)).forEach(e=>{((e,r)=>{const a=Array.from(e.querySelectorAll(r.inputSelector)),n=e.querySelector(r.submitButtonSelector);t(a,n,r),a.forEach(s=>{s.addEventListener("input",()=>{((e,t,r)=>{t.validity.valid?o(e,t,r):((e,t,r,a)=>{const o=`#${t.id}-error`,n=e.querySelector(o);t.classList.add(a.inputErrorClass),n.textContent=r,n.classList.add(a.errorClass)})(e,t,t.validationMessage,r)})(e,s,r),t(a,n,r)})})})(e,N)})}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFjOEcsR0FBYyxFQUFNLFNBQVUsZUFDNUM5RSxFQUNHOEIsV0FBV29CLEdBQ1hyQyxLQUFLLEtBQ0pvQyxFQUFhekYsU0FDYitHLEVBQVd6RSxLQUVaMkQsTUFBTUMsUUFBUUMsT0FDZHFCLFFBQVEsSUFBTWhILEVBQWM4RyxHQUFjLEVBQU8sU0FBVSxlQUNoRSxHRnpIaUNqSSxFRWdKaEJWLEVGL0lFaUosTUFBTUMsS0FBSy9HLFNBQVNTLGlCQUFpQmxDLEVBQU9ULGVBQ3BENEgsUUFBU3RHLElBbEJNNEgsRUFBQzVILEVBQWFiLEtBQ3RDLE1BQU1GLEVBQVl5SSxNQUFNQyxLQUN0QjNILEVBQVlxQixpQkFBaUJsQyxFQUFPUixnQkFFaENPLEVBQWdCYyxFQUFZSSxjQUFjakIsRUFBT1Asc0JBRXZESSxFQUFrQkMsRUFBV0MsRUFBZUMsR0FFNUNGLEVBQVVxSCxRQUFTakgsSUFDakJBLEVBQWFnRyxpQkFBaUIsUUFBUyxLQTlCaEJ3QyxFQUFDN0gsRUFBYVgsRUFBY0YsS0FDaERFLEVBQWFDLFNBQVNDLE1BUXpCUSxFQUFlQyxFQUFhWCxFQUFjRixHQXpCdkIySSxFQUFDOUgsRUFBYVgsRUFBYzBJLEVBQWM1SSxLQUMvRCxNQUFNYyxFQUFpQixJQUFJWixFQUFhYSxXQUNsQ0MsRUFBZUgsRUFBWUksY0FBY0gsR0FDL0NaLEVBQWFNLFVBQVVDLElBQUlULEVBQU9MLGlCQUNsQ3FCLEVBQWFFLFlBQWMwSCxFQUMzQjVILEVBQWFSLFVBQVVDLElBQUlULEVBQU9KLGFBYWhDK0ksQ0FDRTlILEVBQ0FYLEVBQ0FBLEVBQWEySSxrQkFDYjdJLElBeUJBMEksQ0FBbUI3SCxFQUFhWCxFQUFjRixHQUM5Q0gsRUFBa0JDLEVBQVdDLEVBQWVDLFFBUTlDeUksQ0FBa0I1SCxFQUFhYixJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3BvdHMvLi9zcmMvc2NyaXB0cy92YWxpZGF0ZS5qcyIsIndlYnBhY2s6Ly9zcG90cy8uL3NyYy91dGlscy9oZWxwZXJzLmpzIiwid2VicGFjazovL3Nwb3RzLy4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL3Nwb3RzLy4vc3JjL3V0aWxzL0FwaS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBTZXR0aW5nc1xuZXhwb3J0IGNvbnN0IHZhbGlkYXRpb25Db25maWcgPSB7XG4gIGZvcm1TZWxlY3RvcjogXCIubW9kYWxfX2Zvcm1cIixcbiAgaW5wdXRTZWxlY3RvcjogXCIubW9kYWxfX2lucHV0XCIsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5tb2RhbF9fc3VibWl0LWJ1dHRvblwiLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcIm1vZGFsX19zdWJtaXQtYnV0dG9uX2luYWN0aXZlXCIsXG4gIGlucHV0RXJyb3JDbGFzczogXCJtb2RhbF9faW5wdXRfdHlwZV9lcnJvclwiLFxuICBlcnJvckNsYXNzOiBcIm1vZGFsX19lcnJvcl92aXNpYmxlXCIsXG59O1xuXG4vLyBFbmFibGUvZGlzYWJsZSBmb3JtIHN1Ym1pdCBidXR0b24gZnVuY3Rpb25hbGl0eVxuY29uc3QgaGFzSW52YWxpZElucHV0ID0gKGlucHV0TGlzdCkgPT4ge1xuICByZXR1cm4gaW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xuICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xuICB9KTtcbn07XG5cbmNvbnN0IHRvZ2dsZUJ1dHRvblN0YXRlID0gKGlucHV0TGlzdCwgYnV0dG9uRWxlbWVudCwgY29uZmlnKSA9PiB7XG4gIGlmIChoYXNJbnZhbGlkSW5wdXQoaW5wdXRMaXN0KSkge1xuICAgIGRpc2FibGVCdXR0b24oYnV0dG9uRWxlbWVudCwgY29uZmlnKTtcbiAgfSBlbHNlIHtcbiAgICBlbmFibGVCdXR0b24oYnV0dG9uRWxlbWVudCwgY29uZmlnKTtcbiAgfVxufTtcblxuY29uc3QgZGlzYWJsZUJ1dHRvbiA9IChidXR0b25FbGVtZW50LCBjb25maWcpID0+IHtcbiAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKGNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IHRydWU7XG59O1xuXG5jb25zdCBlbmFibGVCdXR0b24gPSAoYnV0dG9uRWxlbWVudCwgY29uZmlnKSA9PiB7XG4gIGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShjb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gIGJ1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZTtcbn07XG5cbi8vIFNob3cvaGlkZSBpbnB1dCBlcnJvciBmdW5jdGlvbmFsaXR5XG5jb25zdCBzaG93SW5wdXRFcnJvciA9IChmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UsIGNvbmZpZykgPT4ge1xuICBjb25zdCBlcnJvckVsZW1lbnRJZCA9IGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYDtcbiAgY29uc3QgZXJyb3JFbGVtZW50ID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihlcnJvckVsZW1lbnRJZCk7XG4gIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKGNvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xuICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XG4gIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKGNvbmZpZy5lcnJvckNsYXNzKTtcbn07XG5cbmNvbnN0IGhpZGVJbnB1dEVycm9yID0gKGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQsIGNvbmZpZykgPT4ge1xuICBjb25zdCBlcnJvckVsZW1lbnRJZCA9IGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYDtcbiAgY29uc3QgZXJyb3JFbGVtZW50ID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihlcnJvckVsZW1lbnRJZCk7XG4gIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGNvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xuICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShjb25maWcuZXJyb3JDbGFzcyk7XG4gIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XG59O1xuXG5jb25zdCBjaGVja0lucHV0VmFsaWRpdHkgPSAoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCwgY29uZmlnKSA9PiB7XG4gIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgc2hvd0lucHV0RXJyb3IoXG4gICAgICBmb3JtRWxlbWVudCxcbiAgICAgIGlucHV0RWxlbWVudCxcbiAgICAgIGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSxcbiAgICAgIGNvbmZpZ1xuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgaGlkZUlucHV0RXJyb3IoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCwgY29uZmlnKTtcbiAgfVxufTtcblxuLy8gUmVzZXQgdmFsaWRhdGlvbiBlcnJvcnMgd2hlbiB0aGUgZWRpdCBtb2RhbCBpcyBvcGVuZWRcbmV4cG9ydCBjb25zdCByZXNldFZhbGlkYXRpb24gPSAoZm9ybUVsZW1lbnQsIGlucHV0TGlzdCwgY29uZmlnKSA9PiB7XG4gIGlucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICBoaWRlSW5wdXRFcnJvcihmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50LCBjb25maWcpO1xuICB9KTtcbn07XG5cbi8vIFNldCBldmVudCBsaXN0ZW5lcnMgYW5kIGVuYWJsZSB2YWxpZGF0aW9uXG5jb25zdCBzZXRFdmVudExpc3RlbmVycyA9IChmb3JtRWxlbWVudCwgY29uZmlnKSA9PiB7XG4gIGNvbnN0IGlucHV0TGlzdCA9IEFycmF5LmZyb20oXG4gICAgZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChjb25maWcuaW5wdXRTZWxlY3RvcilcbiAgKTtcbiAgY29uc3QgYnV0dG9uRWxlbWVudCA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcblxuICB0b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQsIGNvbmZpZyk7XG5cbiAgaW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xuICAgICAgY2hlY2tJbnB1dFZhbGlkaXR5KGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQsIGNvbmZpZyk7XG4gICAgICB0b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQsIGNvbmZpZyk7XG4gICAgfSk7XG4gIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IGVuYWJsZVZhbGlkYXRpb24gPSAoY29uZmlnKSA9PiB7XG4gIGNvbnN0IGZvcm1MaXN0ID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGNvbmZpZy5mb3JtU2VsZWN0b3IpKTtcbiAgZm9ybUxpc3QuZm9yRWFjaCgoZm9ybUVsZW1lbnQpID0+IHtcbiAgICBzZXRFdmVudExpc3RlbmVycyhmb3JtRWxlbWVudCwgY29uZmlnKTtcbiAgfSk7XG59OyIsImV4cG9ydCBmdW5jdGlvbiBzZXRCdXR0b25UZXh0IChidG4sIGlzTG9hZGluZywgZGVmYXVsdFRleHQgPSBcIlNhdmVcIiwgbG9hZGluZ1RleHQgPSBcIlNhdmluZy4uLlwiKSB7XG4gIGlmIChpc0xvYWRpbmcpIHtcbiAgICBidG4udGV4dENvbnRlbnQgPSBsb2FkaW5nVGV4dDtcbiAgfSBlbHNlIHtcbiAgICBidG4udGV4dENvbnRlbnQgPSBkZWZhdWx0VGV4dDtcbiAgfVxufSAiLCJpbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xuaW1wb3J0IHsgdmFsaWRhdGlvbkNvbmZpZywgZW5hYmxlVmFsaWRhdGlvbiwgcmVzZXRWYWxpZGF0aW9uIH0gZnJvbSBcIi4uL3NjcmlwdHMvdmFsaWRhdGUuanNcIjtcblxuaW1wb3J0IEFwaSBmcm9tIFwiLi4vdXRpbHMvQXBpLmpzXCI7XG5cbmltcG9ydCB7IHNldEJ1dHRvblRleHQgfSBmcm9tIFwiLi4vdXRpbHMvaGVscGVycy5qc1wiIFxuXG4vLyBQcm9maWxlIHNlY3Rpb24gdmFyaWFibGVzXG5jb25zdCBwcm9maWxlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fbmFtZVwiKTtcbmNvbnN0IHByb2ZpbGVEZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZGVzY3JpcHRpb25cIik7XG5jb25zdCBwcm9maWxlQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hdmF0YXJcIik7XG5jb25zdCBlZGl0UHJvZmlsZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZWRpdC1idXR0b25cIik7XG5jb25zdCBlZGl0QXZhdGFyQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hdmF0YXItYnV0dG9uXCIpXG5jb25zdCBhZGRDYXJkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hZGQtYnV0dG9uXCIpO1xuXG4vLyBDYXJkcyBzZWN0aW9uIHZhcmlhYmxlc1xuY29uc3QgY2FyZHNMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19fbGlzdFwiKTtcbmNvbnN0IGNhcmRUZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZC10ZW1wbGF0ZVwiKTtcblxuLy8gTGlzdCBvZiBtb2RhbHNcbmNvbnN0IG1vZGFscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubW9kYWxcIik7XG5cbi8vIFByb2ZpbGUgZWRpdCBtb2RhbCB2YXJpYWJsZXNcbmNvbnN0IGVkaXRQcm9maWxlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtZWRpdC1tb2RhbFwiKTtcbmNvbnN0IGVkaXRQcm9maWxlRm9ybSA9IGVkaXRQcm9maWxlTW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcbmNvbnN0IG5hbWVJbnB1dCA9IGVkaXRQcm9maWxlRm9ybS5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtbmFtZS1pbnB1dFwiKTtcbmNvbnN0IGRlc2NyaXB0aW9uSW5wdXQgPSBlZGl0UHJvZmlsZUZvcm0ucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLWRlc2NyaXB0aW9uLWlucHV0XCIpO1xuXG4vLyBBdmF0YXIgZWRpdCBtb2RhbCB2YXJpYWJsZXNcbmNvbnN0IGVkaXRBdmF0YXJNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYXZhdGFyLWVkaXQtbW9kYWxcIik7XG5jb25zdCBlZGl0QXZhdGFyRm9ybSA9IGVkaXRBdmF0YXJNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xuY29uc3QgYXZhdGFyTGlua0lucHV0ID0gZWRpdEF2YXRhck1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIjYXZhdGFyLWxpbmstaW5wdXRcIik7XG5cbi8vIENhcmQgYWRkIG1vZGFsIHZhcmlhYmxlc1xuY29uc3QgYWRkQ2FyZE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjYXJkLWFkZC1tb2RhbFwiKTtcbmNvbnN0IGFkZENhcmRGb3JtID0gYWRkQ2FyZE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1cIik7XG5jb25zdCBjYXJkTGlua0lucHV0ID0gYWRkQ2FyZEZvcm0ucXVlcnlTZWxlY3RvcihcIiNjYXJkLWxpbmstaW5wdXRcIik7XG5jb25zdCBjYXJkQ2FwdGlvbklucHV0ID0gYWRkQ2FyZEZvcm0ucXVlcnlTZWxlY3RvcihcIiNjYXJkLWNhcHRpb24taW5wdXRcIik7XG5cbi8vIEltYWdlIHpvb20gbW9kYWwgdmFyaWFibGVzXG5jb25zdCB6b29tSW1hZ2VNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaW1hZ2Utem9vbS1tb2RhbFwiKTtcbmNvbnN0IHpvb21JbWFnZSA9IHpvb21JbWFnZU1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2ltYWdlXCIpO1xuY29uc3Qgem9vbUltYWdlQ2FwdGlvbiA9IHpvb21JbWFnZU1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2NhcHRpb25cIik7XG5cbi8vIENhcmQgZGVsZXRlIG1vZGFsIHZhcmlhYmxlc1xuY29uc3QgZGVsZXRlQ2FyZE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjYXJkLWRlbGV0ZS1tb2RhbFwiKTtcbmNvbnN0IGRlbGV0ZUNhcmRGb3JtID0gZGVsZXRlQ2FyZE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1cIik7XG5cbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xuICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxXCIsXG4gIGhlYWRlcnM6IHtcbiAgICBhdXRob3JpemF0aW9uOiBcIjBmOGM4MTQzLWYzNTctNGJmNi1hYTFmLTBkYzVjNDkyZmU5MlwiLFxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gIH1cbn0pO1xuXG5hcGlcbiAgLmdldEFwcEluZm8oKVxuICAudGhlbigoW2NhcmRzLCB1c2VyRGF0YV0pID0+IHtcbiAgICBzZXRVc2VyRGF0YSh1c2VyRGF0YSk7XG4gICAgY2FyZHMuZm9yRWFjaCgoY2FyZCkgPT4ge1xuICAgICAgY29uc3QgY2FyZEVsID0gZ2V0Q2FyZEVsZW1lbnQoY2FyZCk7XG4gICAgICBjYXJkc0xpc3QuYXBwZW5kKGNhcmRFbCk7XG4gICAgfSlcbiAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgIGNvbnNvbGUuZXJyb3IoYERhdGEgbG9hZGluZyBlcnJvcjogJHtlcnJ9YCk7XG4gIH0pO1xuXG5cbi8vIENhcmRzIHJlbmRlcmluZ1xuZnVuY3Rpb24gZ2V0Q2FyZEVsZW1lbnQoZGF0YSkge1xuICBjb25zdCBjYXJkRWxlbWVudCA9IGNhcmRUZW1wbGF0ZS5jb250ZW50XG4gICAgLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZFwiKVxuICAgIC5jbG9uZU5vZGUodHJ1ZSk7XG4gIGNvbnN0IGNhcmRUaXRsZSA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdGl0bGVcIik7XG4gIGNvbnN0IGNhcmRJbWFnZSA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XG4gIGNvbnN0IGxpa2VCdXR0b24gPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnV0dG9uXCIpO1xuICBjb25zdCBkZWxldGVCdXR0b24gPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2RlbGV0ZS1idXR0b25cIik7XG5cbiAgY2FyZFRpdGxlLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xuICBjYXJkSW1hZ2Uuc3JjID0gZGF0YS5saW5rO1xuICBjYXJkSW1hZ2UuYWx0ID0gZGF0YS5uYW1lO1xuICAgIGlmIChkYXRhLmlzTGlrZWQpIHtcbiAgICBsaWtlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJjYXJkX19saWtlLWJ1dHRvbl9hY3RpdmVcIik7XG4gIH1cblxuICBkZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IGhhbmRsZURlbGV0ZUNhcmQoY2FyZEVsZW1lbnQsIGRhdGEuX2lkKSk7XG4gIGxpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IGhhbmRsZUxpa2UoZXZ0LCBkYXRhLl9pZCkpO1xuICBjYXJkSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IGhhbmRsZUltYWdlWm9vbShkYXRhKSk7XG5cbiAgcmV0dXJuIGNhcmRFbGVtZW50O1xufVxuXG4vLyBPcGVuL2Nsb3NlIG1vZGFsIGZ1bmN0aW9uc1xuY29uc3Qgb3Blbk1vZGFsID0gKG1vZGFsKSA9PiB7XG4gIG1vZGFsLmNsYXNzTGlzdC5hZGQoXCJtb2RhbF9pcy1vcGVuZWRcIik7XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCBoYW5kbGVFc2NhcGUpO1xufVxuXG5jb25zdCBjbG9zZU1vZGFsID0gKG1vZGFsKSA9PiB7XG4gIG1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbF9pcy1vcGVuZWRcIik7XG4gIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCBoYW5kbGVFc2NhcGUpO1xufVxuXG4vLyBDbG9zaW5nIHRoZSBtb2RhbCBieSBjbGlja2luZyBvbiBvdmVybGF5IG9yIGNsb3NlIGJ1dHRvblxubW9kYWxzLmZvckVhY2goKG1vZGFsKSA9PiB7XG4gIG1vZGFsLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKGV2dCkgPT4ge1xuICAgIGlmIChcbiAgICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxcIikgfHxcbiAgICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxfX2Nsb3NlLWJ1dHRvblwiKSB8fFxuICAgICAgZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJtb2RhbF9fc3VibWl0LWJ1dHRvbl90eXBlX2NhbmNlbFwiKVxuICAgICkge1xuICAgICAgY2xvc2VNb2RhbChtb2RhbCk7XG4gICAgfVxuICB9KTtcbn0pO1xuXG4vLyBDbG9zaW5nIHRoZSBtb2RhbCBieSBwcmVzc2luZyB0aGUgRXNjYXBlIGtleVxuZnVuY3Rpb24gaGFuZGxlRXNjYXBlKGV2dCkge1xuICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgIGNvbnN0IGFjdGl2ZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9pcy1vcGVuZWRcIik7XG4gICAgY2xvc2VNb2RhbChhY3RpdmVNb2RhbCk7XG4gIH1cbn1cblxuLy8gUHJvZmlsZSBlZGl0IGZ1bmN0aW9uYWxpdHlcbmVkaXRQcm9maWxlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcbiAgcmVzZXRWYWxpZGF0aW9uKGVkaXRQcm9maWxlTW9kYWwsIFtuYW1lSW5wdXQsIGRlc2NyaXB0aW9uSW5wdXRdLCB2YWxpZGF0aW9uQ29uZmlnKTtcbiAgbmFtZUlucHV0LnZhbHVlID0gcHJvZmlsZU5hbWUudGV4dENvbnRlbnQ7XG4gIGRlc2NyaXB0aW9uSW5wdXQudmFsdWUgPSBwcm9maWxlRGVzY3JpcHRpb24udGV4dENvbnRlbnQ7XG4gIG9wZW5Nb2RhbChlZGl0UHJvZmlsZU1vZGFsKTtcbn0pO1xuXG5lZGl0UHJvZmlsZUZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBmdW5jdGlvbihldnQpIHtcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gIGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IGV2dC5zdWJtaXR0ZXI7XG4gIHNldEJ1dHRvblRleHQoc3VibWl0QnV0dG9uLCB0cnVlKTtcbiAgYXBpXG4gICAgLnVwZGF0ZVVzZXJJbmZvKHsgbmFtZTogbmFtZUlucHV0LnZhbHVlLCBhYm91dDogZGVzY3JpcHRpb25JbnB1dC52YWx1ZSB9KVxuICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICBwcm9maWxlTmFtZS50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcbiAgICAgIHByb2ZpbGVEZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IGRhdGEuYWJvdXQ7XG4gICAgICBjbG9zZU1vZGFsKGVkaXRQcm9maWxlTW9kYWwpO1xuICAgIH0pXG4gICAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpXG4gICAgLmZpbmFsbHkoKCkgPT4gc2V0QnV0dG9uVGV4dChzdWJtaXRCdXR0b24sIGZhbHNlKSk7XG59KVxuXG5mdW5jdGlvbiBzZXRVc2VyRGF0YShkYXRhKSB7XG4gIHByb2ZpbGVOYW1lLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xuICBwcm9maWxlRGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSBkYXRhLmFib3V0O1xuICBwcm9maWxlQXZhdGFyLnNyYyA9IGRhdGEuYXZhdGFyO1xufVxuXG4vLyBBdmF0YXIgZWRpdCBmdW5jdGlvbmFsaXR5XG5lZGl0QXZhdGFyQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiBvcGVuTW9kYWwoZWRpdEF2YXRhck1vZGFsKSk7XG5lZGl0QXZhdGFyRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGZ1bmN0aW9uKGV2dCkge1xuICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgY29uc3Qgc3VibWl0QnV0dG9uID0gZXZ0LnN1Ym1pdHRlcjtcbiAgc2V0QnV0dG9uVGV4dChzdWJtaXRCdXR0b24sIHRydWUpO1xuICBhcGlcbiAgICAudXBkYXRlQXZhdGFyKHsgYXZhdGFyOiBhdmF0YXJMaW5rSW5wdXQudmFsdWUgfSlcbiAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgcHJvZmlsZUF2YXRhci5zcmMgPSBkYXRhLmF2YXRhcjtcbiAgICAgIGNsb3NlTW9kYWwoZWRpdEF2YXRhck1vZGFsKTtcbiAgICB9KVxuICAgIC5jYXRjaChjb25zb2xlLmVycm9yKVxuICAgIC5maW5hbGx5KCgpID0+IHNldEJ1dHRvblRleHQoc3VibWl0QnV0dG9uLCBmYWxzZSkpO1xufSlcblxuLy8gQ2FyZCBhZGQgZnVuY3Rpb25hbGl0eVxuYWRkQ2FyZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gb3Blbk1vZGFsKGFkZENhcmRNb2RhbCkpO1xuYWRkQ2FyZEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBmdW5jdGlvbihldnQpIHtcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gIGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IGV2dC5zdWJtaXR0ZXI7XG4gIHNldEJ1dHRvblRleHQoc3VibWl0QnV0dG9uLCB0cnVlKTtcbiAgYXBpXG4gICAgLmFkZENhcmQoeyBsaW5rOiBjYXJkTGlua0lucHV0LnZhbHVlLCBuYW1lOiBjYXJkQ2FwdGlvbklucHV0LnZhbHVlIH0pXG4gICAgLnRoZW4oKGRhdGEgPT4ge1xuICAgICAgY29uc3QgbmV3Q2FyZCA9IGdldENhcmRFbGVtZW50KGRhdGEpO1xuICAgICAgY2FyZHNMaXN0LnByZXBlbmQobmV3Q2FyZCk7XG4gICAgICBjbG9zZU1vZGFsKGFkZENhcmRNb2RhbCk7XG4gICAgICBldnQudGFyZ2V0LnJlc2V0KCk7XG4gICAgfSkpXG4gICAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpXG4gICAgLmZpbmFsbHkoKCkgPT4gc2V0QnV0dG9uVGV4dChzdWJtaXRCdXR0b24sIGZhbHNlKSk7XG59KVxuXG4vLyBDYXJkIGRlbGV0ZSBmdW5jdGlvbmFsaXR5XG5sZXQgc2VsZWN0ZWRDYXJkLCBzZWxlY3RlZENhcmRJZDtcblxuZnVuY3Rpb24gaGFuZGxlRGVsZXRlQ2FyZChjYXJkRWxlbWVudCwgY2FyZElkKSB7XG4gIHNlbGVjdGVkQ2FyZCA9IGNhcmRFbGVtZW50O1xuICBzZWxlY3RlZENhcmRJZCA9IGNhcmRJZDtcbiAgb3Blbk1vZGFsKGRlbGV0ZUNhcmRNb2RhbCk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZURlbGV0ZUNhcmRTdWJtaXQoZXZ0KSB7XG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICBjb25zdCBzdWJtaXRCdXR0b24gPSBldnQuc3VibWl0dGVyO1xuICBzZXRCdXR0b25UZXh0KHN1Ym1pdEJ1dHRvbiwgdHJ1ZSwgXCJEZWxldGVcIiwgXCJEZWxldGluZy4uLlwiKTtcbiAgYXBpXG4gICAgLmRlbGV0ZUNhcmQoc2VsZWN0ZWRDYXJkSWQpXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgc2VsZWN0ZWRDYXJkLnJlbW92ZSgpO1xuICAgICAgY2xvc2VNb2RhbChkZWxldGVDYXJkTW9kYWwpO1xuICAgIH0pXG4gICAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpXG4gICAgLmZpbmFsbHkoKCkgPT4gc2V0QnV0dG9uVGV4dChzdWJtaXRCdXR0b24sIGZhbHNlLCBcIkRlbGV0ZVwiLCBcIkRlbGV0aW5nLi4uXCIpKTtcbn1cblxuZGVsZXRlQ2FyZEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBoYW5kbGVEZWxldGVDYXJkU3VibWl0KTtcblxuLy8gQ2FyZCBsaWtlIGZ1bmN0aW9uYWxpdHlcbmZ1bmN0aW9uIGhhbmRsZUxpa2UoZXZ0LCBjYXJkSWQpIHtcbiAgY29uc3QgaXNMaWtlZCA9IGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xuICBhcGlcbiAgICAuY2hhbmdlQ2FyZExpa2VTdGF0dXMoY2FyZElkLCBpc0xpa2VkKVxuICAgIC50aGVuKCgpID0+IHtcbiAgICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LnRvZ2dsZShcImNhcmRfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcbiAgICB9KVxuICAgIC5jYXRjaChjb25zb2xlLmVycm9yKTtcbn1cblxuLy8gSW1hZ2Ugem9vbSBmdW5jdGlvbmFsaXR5XG5mdW5jdGlvbiBoYW5kbGVJbWFnZVpvb20oZGF0YSkge1xuICB6b29tSW1hZ2Uuc3JjID0gZGF0YS5saW5rO1xuICB6b29tSW1hZ2UuYWx0ID0gZGF0YS5uYW1lO1xuICB6b29tSW1hZ2VDYXB0aW9uLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xuICBvcGVuTW9kYWwoem9vbUltYWdlTW9kYWwpO1xufVxuXG5lbmFibGVWYWxpZGF0aW9uKHZhbGlkYXRpb25Db25maWcpOyIsImNsYXNzIEFwaSB7XG4gIGNvbnN0cnVjdG9yKHsgYmFzZVVybCwgaGVhZGVycyB9KSB7XG4gICAgdGhpcy5fYmFzZVVybCA9IGJhc2VVcmw7XG4gICAgdGhpcy5faGVhZGVycyA9IGhlYWRlcnM7XG4gIH1cblxuICBnZXRBcHBJbmZvKCkge1xuICAgIHJldHVybiBQcm9taXNlLmFsbChbdGhpcy5nZXRJbml0aWFsQ2FyZHMoKSwgdGhpcy5nZXRVc2VySW5mbygpXSk7XG4gIH1cblxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KVxuICAgICAgLnRoZW4ocmVzID0+IHtcbiAgICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgICB9IFxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgICB9KVxuICB9XG5cbiAgYWRkQ2FyZCh7IGxpbmssIG5hbWUgfSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBsaW5rLFxuICAgICAgICBuYW1lLFxuICAgICAgfSksXG4gICAgfSlcbiAgICAudGhlbih0aGlzLl9oYW5kbGVTZXJ2ZXJSZXNwb25zZSk7XG4gIH1cblxuICBjaGFuZ2VDYXJkTGlrZVN0YXR1cyhjYXJkSWQsIGlzTGlrZWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xuICAgICAgbWV0aG9kOiBpc0xpa2VkID8gXCJERUxFVEVcIiA6IFwiUFVUXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pXG4gICAgLnRoZW4odGhpcy5faGFuZGxlU2VydmVyUmVzcG9uc2UpO1xuICB9XG5cbiAgZGVsZXRlQ2FyZChjYXJkSWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9YCwge1xuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KVxuICAgIC50aGVuKHRoaXMuX2hhbmRsZVNlcnZlclJlc3BvbnNlKTtcbiAgfVxuXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSlcbiAgICAgIC50aGVuKHJlcyA9PiB7XG4gICAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgICAgfSBcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICAgICAgfSlcbiAgfVxuICBcbiAgdXBkYXRlVXNlckluZm8oeyBuYW1lLCBhYm91dCB9KSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lLFxuICAgICAgICBhYm91dCxcbiAgICAgIH0pLFxuICAgIH0pXG4gICAgLnRoZW4odGhpcy5faGFuZGxlU2VydmVyUmVzcG9uc2UpO1xuICB9XG5cbiAgdXBkYXRlQXZhdGFyKHsgYXZhdGFyIH0pIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBhdmF0YXIsXG4gICAgICB9KSxcbiAgICB9KVxuICAgIC50aGVuKHRoaXMuX2hhbmRsZVNlcnZlclJlc3BvbnNlKTtcbiAgfVxuXG4gIF9oYW5kbGVTZXJ2ZXJSZXNwb25zZShyZXMpIHtcbiAgICByZXR1cm4gcmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICB9XG59XG5cblxuZXhwb3J0IGRlZmF1bHQgQXBpOyJdLCJuYW1lcyI6WyJ2YWxpZGF0aW9uQ29uZmlnIiwiZm9ybVNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJ0b2dnbGVCdXR0b25TdGF0ZSIsImlucHV0TGlzdCIsImJ1dHRvbkVsZW1lbnQiLCJjb25maWciLCJzb21lIiwiaW5wdXRFbGVtZW50IiwidmFsaWRpdHkiLCJ2YWxpZCIsImhhc0ludmFsaWRJbnB1dCIsImRpc2FibGVCdXR0b24iLCJlbmFibGVCdXR0b24iLCJjbGFzc0xpc3QiLCJhZGQiLCJkaXNhYmxlZCIsInJlbW92ZSIsImhpZGVJbnB1dEVycm9yIiwiZm9ybUVsZW1lbnQiLCJlcnJvckVsZW1lbnRJZCIsImlkIiwiZXJyb3JFbGVtZW50IiwicXVlcnlTZWxlY3RvciIsInRleHRDb250ZW50Iiwic2V0QnV0dG9uVGV4dCIsImJ0biIsImlzTG9hZGluZyIsImRlZmF1bHRUZXh0IiwibG9hZGluZ1RleHQiLCJwcm9maWxlTmFtZSIsImRvY3VtZW50IiwicHJvZmlsZURlc2NyaXB0aW9uIiwicHJvZmlsZUF2YXRhciIsImVkaXRQcm9maWxlQnV0dG9uIiwiZWRpdEF2YXRhckJ1dHRvbiIsImFkZENhcmRCdXR0b24iLCJjYXJkc0xpc3QiLCJjYXJkVGVtcGxhdGUiLCJtb2RhbHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZWRpdFByb2ZpbGVNb2RhbCIsImVkaXRQcm9maWxlRm9ybSIsIm5hbWVJbnB1dCIsImRlc2NyaXB0aW9uSW5wdXQiLCJlZGl0QXZhdGFyTW9kYWwiLCJlZGl0QXZhdGFyRm9ybSIsImF2YXRhckxpbmtJbnB1dCIsImFkZENhcmRNb2RhbCIsImFkZENhcmRGb3JtIiwiY2FyZExpbmtJbnB1dCIsImNhcmRDYXB0aW9uSW5wdXQiLCJ6b29tSW1hZ2VNb2RhbCIsInpvb21JbWFnZSIsInpvb21JbWFnZUNhcHRpb24iLCJkZWxldGVDYXJkTW9kYWwiLCJkZWxldGVDYXJkRm9ybSIsImFwaSIsImNvbnN0cnVjdG9yIiwiYmFzZVVybCIsImhlYWRlcnMiLCJ0aGlzIiwiX2Jhc2VVcmwiLCJfaGVhZGVycyIsImdldEFwcEluZm8iLCJQcm9taXNlIiwiYWxsIiwiZ2V0SW5pdGlhbENhcmRzIiwiZ2V0VXNlckluZm8iLCJmZXRjaCIsInRoZW4iLCJyZXMiLCJvayIsImpzb24iLCJyZWplY3QiLCJzdGF0dXMiLCJhZGRDYXJkIiwibGluayIsIm5hbWUiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsIl9oYW5kbGVTZXJ2ZXJSZXNwb25zZSIsImNoYW5nZUNhcmRMaWtlU3RhdHVzIiwiY2FyZElkIiwiaXNMaWtlZCIsImRlbGV0ZUNhcmQiLCJ1cGRhdGVVc2VySW5mbyIsImFib3V0IiwidXBkYXRlQXZhdGFyIiwiYXZhdGFyIiwiYXV0aG9yaXphdGlvbiIsImdldENhcmRFbGVtZW50IiwiZGF0YSIsImNhcmRFbGVtZW50IiwiY29udGVudCIsImNsb25lTm9kZSIsImNhcmRUaXRsZSIsImNhcmRJbWFnZSIsImxpa2VCdXR0b24iLCJkZWxldGVCdXR0b24iLCJzcmMiLCJhbHQiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZ0Iiwic2VsZWN0ZWRDYXJkIiwic2VsZWN0ZWRDYXJkSWQiLCJvcGVuTW9kYWwiLCJoYW5kbGVEZWxldGVDYXJkIiwiX2lkIiwidGFyZ2V0IiwiY29udGFpbnMiLCJ0b2dnbGUiLCJjYXRjaCIsImNvbnNvbGUiLCJlcnJvciIsImhhbmRsZUxpa2UiLCJoYW5kbGVJbWFnZVpvb20iLCJjYXJkcyIsInVzZXJEYXRhIiwiZm9yRWFjaCIsImNhcmQiLCJjYXJkRWwiLCJhcHBlbmQiLCJlcnIiLCJtb2RhbCIsImhhbmRsZUVzY2FwZSIsImNsb3NlTW9kYWwiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwia2V5IiwiYWN0aXZlTW9kYWwiLCJyZXNldFZhbGlkYXRpb24iLCJ2YWx1ZSIsInByZXZlbnREZWZhdWx0Iiwic3VibWl0QnV0dG9uIiwic3VibWl0dGVyIiwiZmluYWxseSIsIm5ld0NhcmQiLCJwcmVwZW5kIiwicmVzZXQiLCJBcnJheSIsImZyb20iLCJzZXRFdmVudExpc3RlbmVycyIsImNoZWNrSW5wdXRWYWxpZGl0eSIsInNob3dJbnB1dEVycm9yIiwiZXJyb3JNZXNzYWdlIiwidmFsaWRhdGlvbk1lc3NhZ2UiXSwic291cmNlUm9vdCI6IiJ9